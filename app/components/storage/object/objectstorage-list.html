<div class="container-fluid">
    <div class="page-header">
        <h1>Pools</h1>
    </div>
    <div class="row form-group">
        <div class="col-md-3">
            <input type="text" class="form-control" placeholder="Search" ng-model="search">
        </div>
        <div class="col-md-offset-6 col-md-3">
            <span class="pull-right">
                <button class="btn btn-primary btn-lg" ng-click="storages.create()">Add Storage</button>
            </span>
        </div>
    </div>
    <div class="list-group list-view-pf">
        <div class="list-group-item  list-view-pf-stacked" ng-repeat="storage in storages.list | filter:search">
            <div class="list-view-pf-actions">
                <div class="dropdown pull-right dropdown-kebab-pf">
                    <button class="btn btn-link dropdown-toggle" type="button" id="dropdownKebabRight-{{$index}}" data-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="true">
                        <span class="fa fa-ellipsis-v"></span>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownKebabRight-{{$index}}">
                        <li><a ng-click="storages.remove(storage)">Remove</a></li>
                        <li><a ng-click="storages.edit(storage)">Edit</a></li>
                    </ul>
                </div>
            </div>
            <div class="list-view-pf-main-info">
                <div class="list-view-pf-left">
                    <label class="pficon pficon-running" ng-if="storage.status !== 0"></label>
                    <label class="pficon pficon-ok" ng-if="storage.status === 0"></label>
                </div>
                <div class="list-view-pf-body">
                    <div class="list-view-pf-description">
                        <div class="list-group-item-heading">
                            <p>
                                <label ng-bind="storage.name"></label> on
                                <label ng-bind="storages.getClusterName(storage.clusterid)"></label>
                                <br><small>{{storage.type}}</small>
                            </p>
                        </div>
                    </div>
                    <div class="list-view-pf-additional-info">
                        <div class="list-view-pf-additional-info-item list-view-pf-additional-info-item-donut-chart">
                            <c3chart bindto-id="donut-pool-usage-chart-{{$index}}">
                                <chart-column column-id="Free" column-values="30" column-color="#CCCCCC" column-type="donut" />
                                <chart-column column-id="Using" column-values="70" column-color="{{storages.getPoolUsageDonutColor(storage.usage.percentused)}}"
                                column-type="donut" />
                                <chart-donut title="70%" width="5" />
                                <chart-legend show-legend="false"></chart-legend>
                                <chart-size chart-height="71"></chart-size>
                            </c3chart>
                        </div>
                        <div class="list-view-pf-additional-info-item list-view-pf-additional-info-item-stacked">
                            <strong ng-bind=" storage.usage.used | bytes "></strong>
                            of {{ storage.usage.total | bytes }} used
                        </div>
                        <div class="list-view-pf-additional-info-item list-view-pf-additional-info-item-stacked">
                            <strong>Replicas</strong>{{storage.replicas }}
                        </div>
                        <div class="list-view-pf-additional-info-item list-view-pf-additional-info-item-stacked">
                            <strong>PGs</strong>{{storage.options1.pg_num }}
                        </div>
                        <div class="list-view-pf-additional-info-item list-view-pf-additional-info-item-stacked">
                            <strong>Alerts</strong>
                            <p><strong ng-bind="storage.almcount"></strong>
                                <span ng-class="storage.almstatus>0?'fa-times-circle critical':'fa fa-check-circle-o ok'"></span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>